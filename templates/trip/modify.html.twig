{% extends 'base.html.twig' %}

{% block title %}Modification de la sortie "{{ form.vars.value.name }}"{% endblock %}
{% block stylesheetsAdd %}
    <link rel="stylesheet" href="{{ asset('css/profileShow.css') }}">
{% endblock %}
{% block body %}
<h1 class="neon">[ Modification de la sortie "{{ form.vars.value.name }}" ]</h1>

{# TODO ALGORITHME D'AFFICHAGE DES INFOS COMBINEES
VILLE ORGANISATRICE, LIEU; RUE; CP; latitude et longitude
#}

<div class="container">
    {% if is_granted('IS_AUTHENTICATED_FULLY') %}
    <div class="full">

        {{ form_start(form) }}

        <div class="form-row">
            <div class="form-group col-md-6">
                {{ form_row(form.name) }}
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6">
                {{ form_row(form.date_start) }}
            </div>
            <div class="form-group col-md-6">
                <label for="ville">Ville</label><br>
                <select name="ville">
                    {% for city in cities %}
                        <option>{{ city.nameCity }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6">
                {{ form_row(form.date_closing) }}
            </div>
            <div class="form-group col-md-6">
                <label for="place">Lieu</label><br>
                <select name="place">
                    {#
                    {% for place in places %}
                        <option>{{ place.namePlace }}</option>
                    {% endfor %}
                    #}
                </select>
                <button> +</button>
            </div>
        </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    {{ form_row(form.max_registration) }}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    {{ form_row(form.duration) }}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    {{ form_row(form.description_infos) }}
                </div>
            </div>

            <input type="submit" class="btn btn-primary" name="Enregistrer" value="Enregistrer">

            {{ form_end(form) }}

            {# condition d'affichage du bouton "publier" uniquement si la sortie est en statut "créée" #}
            {% if (trip.status == "Créée") %}
                <a href="{{ path('tripPublish', {'id': trip.id}) }}">
                    <button class="btn btn-warning">Publier la sortie</button>
                </a>
            {% endif %}

            <a href="{{ path('tripDelete', {'id': trip.id}) }}">
                <button class="btn btn-warning">Supprimer la sortie</button>
            </a>
            <a href="{{ path('welcome') }}">
                <button class="btn btn-secondary">Annuler</button>
            </a>
        </div>
        {% endif %}
    </div>

    {% endblock %}


